package service;

import java.util.List;
import java.util.Objects;
import java.util.Optional;

import dao.ItemGroupDAO;
import dao.JdbcItemGroupDAO;
import persistence.ItemGroup;

public class ItemGroupServiceImpl implements ItemGroupService{

	
	private ItemGroupDAO itemGroupDAO; 
	
	public ItemGroupServiceImpl() {
		itemGroupDAO = new JdbcItemGroupDAO();
	}
	
	@Override
	public List<ItemGroup> getAll(){
		return itemGroupDAO.getAll();
	}
	
	@Override
	public ItemGroup getItemById(int id) {
		return itemGroupDAO.getItemById(id);
	}
	
	@Override
	public void saveOrUpdate(ItemGroup itemGroup) {
		// avoid NullPointerException
		if(Optional.ofNullable(itemGroupDAO.getItemById(itemGroup.getId())).isPresent()) {
			System.out.println("ig is existed --> executing update ...");
			itemGroupDAO.update(itemGroup);
		} else {
			System.out.println("ig is not exist --> executing save ...");
			itemGroupDAO.save(itemGroup);
		}
		
	}
	
	@Override
	public List<ItemGroup> search(String name) {
		Objects.requireNonNull(name, "ig name cannot be null");
		return itemGroupDAO.search(name);
	}
	
}
